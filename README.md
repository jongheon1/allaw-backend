# Allaw Backend Service

## 개요

Allaw Backend Service는 사용자가 법안 정보를 요약하고 법안에 대한 질문에 답변할 수 있도록 지원하는 RESTful API 서비스입니다. 이 서비스는 Spring Boot를 기반으로 하며, OpenAI GPT API를 사용하여 법안 관련 질문에 대해 정확하고 신뢰할 수 있는 답변을 제공합니다.

---
## 주요 기능

- **법안 검색**
- **법안 내용 요약**
- **법안 구독**
- **의견 남기기**
- **법안 기반 챗봇**

---
## API 명세

### GPT 관련

| 기능                  | 메서드 | Endpoint                  | 설명                                               |
|-----------------------|--------|---------------------------|----------------------------------------------------|
| 법안 요약             | POST   | /api/gpt/{billId}/summary | 지정된 법안 ID에 해당하는 법안 문서를 요약합니다. |
| 법안 기반 질문 답변   | POST   | /api/gpt/{billId}/chat    | 지정된 법안 ID에 해당하는 법안 내용을 기반으로 사용자의 질문에 답변합니다. |
| 일반 질문             | POST   | /api/gpt/query            | 일반적인 질문에 대해 GPT 모델의 답변을 반환합니다. |
| 동의 의견 추가        | POST   | /api/gpt/agree            | 후보의 공약에 대한 동의 의견을 추가합니다. |
| 반대 의견 추가        | POST   | /api/gpt/disagree         | 후보의 공약에 대한 반대 의견을 추가합니다. |

### 의견 관리

| 기능        | 메서드 | Endpoint            | 설명                           |
|-------------|--------|---------------------|--------------------------------|
| 의견 추가   | POST   | /api/opinions       | 새로운 의견을 추가합니다.      |
| 의견 조회   | GET    | /api//bill/{billId}       | 지정된 법안 ID에 해당하는 모든 의견을 조회합니다.        |
| 의견 수정   | PUT    | /api/opinions/{id}  | 지정된 ID의 의견을 수정합니다. |
| 의견 삭제   | DELETE | /api/opinions/{id}  | 지정된 ID의 의견을 삭제합니다. |

### 구독 관리

| 기능        | 메서드 | Endpoint               | 설명                                |
|-------------|--------|------------------------|-------------------------------------|
| 구독 추가   | POST   | /subscribe             | 키워드를 구독합니다.                |
| 구독 삭제   | DELETE | /unsubscribe/{keywordId}| 지정된 키워드 ID의 구독을 취소합니다. |
| 구독 조회   | GET    | /subscriptions         | 현재 사용자의 모든 구독을 조회합니다. |

---
## ERD (Entity-Relationship Diagram)
![alt text](allaw-erd.png)